<app-back-button></app-back-button>
<div class="container py-5">
  <h2 class="text-center text-primary mb-4">Update Patient</h2>
  <form [formGroup]="patientForm" (ngSubmit)="onSubmit()">

    <!-- Full Name -->
    <div class="mb-3">
      <label>Full Name</label>
      <input type="text" formControlName="fullName" class="form-control"
             [ngClass]="{ 'is-invalid': patientForm.get('fullName')?.touched && patientForm.get('fullName')?.invalid }"/>
      <div class="invalid-feedback" *ngIf="patientForm.get('fullName')?.touched && patientForm.get('fullName')?.invalid">
        Full name is required.
      </div>
    </div>

    <!-- Age -->
    <div class="mb-3">
      <label>Age</label>
      <input type="number" formControlName="age" class="form-control"
             required min="1" (keydown)="preventNegative($event)"
             [ngClass]="{ 'is-invalid': patientForm.get('age')?.touched && patientForm.get('age')?.invalid }"/>
      <div class="invalid-feedback" *ngIf="patientForm.get('age')?.touched && patientForm.get('age')?.invalid">
        Valid age is required.
      </div>
    </div>

    <!-- Gender -->
    <div class="mb-3">
      <label>Gender</label>
      <input type="text" formControlName="gender" class="form-control"
             [ngClass]="{ 'is-invalid': patientForm.get('gender')?.touched && patientForm.get('gender')?.invalid }"/>
      <div class="invalid-feedback" *ngIf="patientForm.get('gender')?.touched && patientForm.get('gender')?.invalid">
        Gender is required.
      </div>
    </div>

    <!-- Phone -->
    <div class="mb-3">
  <label>Phone</label>
  <input
    type="tel"
    formControlName="phone"
    class="form-control"
    [ngClass]="{ 'is-invalid': patientForm.get('phone')?.touched && patientForm.get('phone')?.invalid }"
/>
  <div class="invalid-feedback" *ngIf="patientForm.get('phone')?.touched && patientForm.get('phone')?.invalid">
    <span *ngIf="patientForm.get('phone')?.errors?.['required']">Phone number is required.</span>
    <span *ngIf="patientForm.get('phone')?.errors?.['pattern']">Phone must be exactly 10 digits.</span>
  </div>
</div>
    <!-- Address -->
    <div class="mb-3">
      <label>Address</label>
      <input type="text" formControlName="address" class="form-control"
             [ngClass]="{ 'is-invalid': patientForm.get('address')?.touched && patientForm.get('address')?.invalid }"/>
      <div class="invalid-feedback" *ngIf="patientForm.get('address')?.touched && patientForm.get('address')?.invalid">
        Address is required.
      </div>
    </div>

    <!-- Submit -->
    <button class="btn btn-success w-100" type="submit">Update</button>
  </form>
</div>
