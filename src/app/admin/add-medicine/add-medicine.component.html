<app-back-button></app-back-button>

<div class="container py-4">
  <h2 class="text-center text-primary mb-4">Add Medicine</h2>

  <form [formGroup]="medicineForm" (ngSubmit)="onSubmit()">

    <!-- Medicine Name -->
    <div class="mb-3">
      <label for="name" class="form-label">Medicine Name</label>
      <input type="text" id="name" formControlName="name" class="form-control" />
    </div>

    <!-- Price -->
    <div class="mb-3">
      <label for="price" class="form-label">Price (â‚¹)</label>
      <input
        type="text"
        id="price"
        formControlName="price"
        class="form-control"
        pattern="^[1-9][0-9]*$"
        maxlength="6"
        (keypress)="allowOnlyDigits($event)"
      />
      <div *ngIf="medicineForm.get('price')?.touched && medicineForm.get('price')?.invalid" class="text-danger mt-1">
        <div *ngIf="medicineForm.get('price')?.errors?.['pattern']">Price must be a valid number.</div>
        <div *ngIf="medicineForm.get('price')?.errors?.['required']">Price is required.</div>
      </div>
    </div>

    <!-- Discontinued -->
    <div class="mb-3">
      <label for="isDiscontinued" class="form-label">Is Discontinued?</label>
      <select id="isDiscontinued" formControlName="isDiscontinued" class="form-select">
        <option [ngValue]="false">No</option>
        <option [ngValue]="true">Yes</option>
      </select>
    </div>

    <!-- Manufacturer -->
    <div class="mb-3">
      <label for="manufacturerName" class="form-label">Manufacturer Name</label>
      <input type="text" id="manufacturerName" formControlName="manufacturerName" class="form-control" />
    </div>

    <!-- Type -->
    <div class="mb-3">
      <label for="type" class="form-label">Type</label>
      <input type="text" id="type" formControlName="type" class="form-control" placeholder="Tablet / Capsule / Syrup" />
    </div>

    <!-- Pack Size -->
    <div class="mb-3">
      <label for="packSizeLabel" class="form-label">Pack Size</label>
      <input type="text" id="packSizeLabel" formControlName="packSizeLabel" class="form-control" placeholder="10 tablets / 100ml bottle" />
    </div>

    <!-- Short Composition 1 -->
    <div class="mb-3">
      <label for="shortComposition1" class="form-label">Short Composition 1</label>
      <input type="text" id="shortComposition1" formControlName="shortComposition1" class="form-control" />
    </div>

    <!-- Short Composition 2 -->
    <div class="mb-3">
      <label for="shortComposition2" class="form-label">Short Composition 2</label>
      <input type="text" id="shortComposition2" formControlName="shortComposition2" class="form-control" />
    </div>

    <!-- Submit -->
    <button type="submit" class="btn btn-primary w-100" [disabled]="!medicineForm.valid">Add Medicine</button>
  </form>
</div>
